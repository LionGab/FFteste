# ============================================================================
# FullForce Academia - N8N Integration Environment Configuration
# ============================================================================

# Application Configuration
NODE_ENV=development
PORT=3001
LOG_LEVEL=info

# Academia Information
ACADEMIA_NOME="Academia Full Force"
ACADEMIA_ENDERECO="Av. Principal, 123 - Centro, Matupá/MT"
ACADEMIA_TELEFONE="(65) 99999-9999"
ACADEMIA_EMAIL="contato@fullforceacademia.com.br"
ACADEMIA_HORARIO_FUNCIONAMENTO="Segunda a Sexta: 6h às 22h | Sábado: 8h às 18h | Domingo: 8h às 16h"

# WhatsApp Configuration
WHATSAPP_SESSION_NAME="fullforce_650"
WHATSAPP_WEBHOOK_URL="http://localhost:3001/api/whatsapp/webhook"

# WAHA (WhatsApp HTTP API) Configuration
WAHA_URL="http://localhost:3000"
WAHA_SESSION="default"
WAHA_WEBHOOK_URL="http://localhost:3001/api/waha/webhook"

# N8N Configuration
N8N_URL="http://localhost:5678"
N8N_WEBHOOK_650_URL="http://localhost:5678/webhook/fullforce-650-campaign"
N8N_HEALTH_URL="http://localhost:5678/healthz"
N8N_API_TOKEN="your-n8n-api-token-here"

# Google APIs Configuration
GOOGLE_SPREADSHEET_ID="1BvQhCgZJqL9T3XrM4NfP8QwHk6yS9cA2vD5eE8fF0gG"
GOOGLE_CALENDAR_ID="primary"
GOOGLE_SERVICE_ACCOUNT_KEY_PATH="./config/google-service-account.json"
# OU use a chave diretamente:
# GOOGLE_SERVICE_ACCOUNT_KEY='{"type":"service_account",...}'

# Redis Configuration (para filas BullMQ)
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/fullforce_academia"
# OU SQLite para desenvolvimento:
# DATABASE_URL="sqlite:./data/fullforce.db"

# Campaign Configuration - ROI 11.700%
CAMPAIGN_650_ENABLED=true
CAMPAIGN_650_BATCH_SIZE=50
CAMPAIGN_650_DELAY_BETWEEN_BATCHES=30000
CAMPAIGN_650_MAX_DAILY_SENDS=650

# Conversion Rates Configuration
CONVERSION_RATE_CRITICOS=0.35
CONVERSION_RATE_MODERADOS=0.25
CONVERSION_RATE_BAIXA_FREQ=0.15
CONVERSION_RATE_PROSPECTS=0.08

# Revenue Configuration
AVG_MONTHLY_VALUE=129.90
CAMPAIGN_INVESTMENT=1500
PROJECTED_ROI_PERCENTAGE=11700

# Sales Team Configuration
SALES_TEAM_NUMBERS="5511999999999,5511888888888"
SALES_NOTIFICATION_ENABLED=true

# Security Configuration
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000
JWT_SECRET="your-super-secret-jwt-key-here"
API_KEY="your-api-key-for-n8n-integration"

# Follow-up Configuration
FOLLOWUP_ENABLED=true
FOLLOWUP_MAX_ATTEMPTS=3

# Critical Urgency - 6h, 24h, 72h
FOLLOWUP_CRITICA_DELAYS="6,24,72"

# High Urgency - 12h, 48h, 168h (1 week)
FOLLOWUP_ALTA_DELAYS="12,48,168"

# Medium Urgency - 24h, 168h (1 week)
FOLLOWUP_MEDIA_DELAYS="24,168"

# Low Urgency - 72h, 336h (2 weeks)
FOLLOWUP_BAIXA_DELAYS="72,336"

# Monitoring & Analytics
ANALYTICS_ENABLED=true
ANALYTICS_UPDATE_INTERVAL=3600000
MONITORING_WEBHOOK_URL="http://localhost:3001/api/monitoring/webhook"

# External Integrations
FRONTEND_URL="http://localhost:3000"
WEBHOOK_SECRET="your-webhook-secret-here"

# Development Configuration
DEBUG_MODE=true
MOCK_WHATSAPP=false
MOCK_GOOGLE_APIS=false
TEST_PHONE_NUMBER="5511999999999"

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000
BACKUP_RETENTION_DAYS=30

# Performance Configuration
MAX_CONCURRENT_MESSAGES=10
MESSAGE_QUEUE_TIMEOUT=30000
API_TIMEOUT=15000

# ============================================================================
# Campaign 650 Inativos - Specific Configuration
# ============================================================================

# Segmentation Thresholds (in days)
THRESHOLD_CRITICOS=90
THRESHOLD_MODERADOS=60
THRESHOLD_BAIXA_FREQ=30
THRESHOLD_MIN_FREQUENCY=8

# Message Templates Configuration
TEMPLATE_CRITICA_DISCOUNT=60
TEMPLATE_MODERADA_DISCOUNT=50
TEMPLATE_BAIXA_FREQ_DISCOUNT=0
TEMPLATE_PROSPECTS_DISCOUNT=0

# Schedule Configuration
AUTO_CAMPAIGN_ENABLED=false
AUTO_CAMPAIGN_TIME="09:00"
AUTO_CAMPAIGN_DAYS="1,2,3,4,5"

# Success Tracking
TRACK_OPENS=true
TRACK_CLICKS=true
TRACK_CONVERSIONS=true
CONVERSION_TRACKING_DAYS=30

# ============================================================================
# N8N Workflow Configuration
# ============================================================================

# Workflow IDs (quando workflows estiverem implantados)
N8N_WORKFLOW_ID_650_CAMPAIGN=""
N8N_WORKFLOW_ID_FOLLOWUP=""
N8N_WORKFLOW_ID_ANALYTICS=""

# Webhook URLs for different workflows
N8N_WEBHOOK_ANALYTICS="http://localhost:5678/webhook/analytics"
N8N_WEBHOOK_FOLLOWUP="http://localhost:5678/webhook/followup"
N8N_WEBHOOK_CONVERSION="http://localhost:5678/webhook/conversion"

# N8N Integration Features
N8N_AUTO_SYNC_SHEETS=true
N8N_AUTO_CALENDAR_SYNC=true
N8N_AUTO_RESPONSE_PROCESSING=true

# ============================================================================
# Google Sheets Configuration
# ============================================================================

# Sheet Names
SHEET_ALUNOS_INATIVOS="Alunos_Inativos"
SHEET_CAMPANHAS_LOG="Campanhas_Log"
SHEET_ROI_DASHBOARD="ROI_Dashboard"
SHEET_HOT_LEADS="Hot_Leads"
SHEET_CAMPANHAS_HISTORICO="Campanhas_Historico"

# Auto-sync intervals (in milliseconds)
SHEETS_SYNC_INTERVAL=300000
CALENDAR_SYNC_INTERVAL=600000

# ============================================================================
# Exemplo de uso:
# 1. Copie este arquivo para .env
# 2. Preencha as variáveis com seus valores reais
# 3. Configure as credenciais do Google (service account)
# 4. Configure N8N webhooks
# 5. Execute: npm run start:n8n
# ============================================================================